@导入变量 玩家名 字符串
@导入变量 消息 字符串

# 触发命令是：转账 <玩家名> <钱数>
# /w @s 转账 FSkyBlueBot 1

# 检测触发词
如果 以字符串开头 消息, "转账" 那么
    # 切割消息，获取参数
    设置 触发词参数 为 切割字符串 消息, " "
    如果 列表长度 触发词参数 = 3 那么
        设置 转账目标 为 转换为非空变量 (获取列表项 触发词参数, 1)
        如果 非 (玩家在线 转账目标) 那么
            聊天栏显示 玩家名; "§c目标不在线"
            结束
        结束如果
        设置 转账钱数 为 转换为非空变量 (转换为整数 (转换为非空变量 (获取列表项 触发词参数, 2), "-1")), -1
        如果 转账钱数 < 0 那么
            聊天栏显示 玩家名; "§c错误的转账数额"
            结束
        结束如果
        设置 钱数 为 转换为非空变量 (获取计分板分数 "money", 玩家名), 0
        如果 转账钱数 > 钱数 那么
            聊天栏显示 玩家名; "§c金币数额不够: 你只有 " + 钱数 + " 金币"
            结束
        否则
            执行 "/scoreboard players remove " + 玩家名 + " money " + 转账钱数
            执行 "/scoreboard players add " + 转账目标 + " money " + 转账钱数
            聊天栏显示 玩家名; "§a转账成功， 转账了§e$" + 转账钱数 + "金币"
        结束如果
    否则
        聊天栏显示 玩家名; "§c转账命令格式错误"
    结束如果
结束如果